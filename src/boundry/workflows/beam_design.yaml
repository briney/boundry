# Beam-search workflow
#
# Each beam round expands candidates with design/relax/analyze, scores
# by dG, and keeps top width candidates.

workflow_version: 1
input: input.pdb

steps:
  - operation: idealize
  - beam:
      width: 3
      rounds: 10
      expand: 5
      metric: dG
      direction: min
      until: "{dG} < -15.0"
      steps:
        - operation: design
          params:
            n_iterations: 1
        - operation: relax
          params:
            n_iterations: 1
        - operation: analyze_interface
          params:
            calculate_binding_energy: true
